{
  "id": "com.gruijter.hyundai_kia",
  "version": "1.0.0",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "brandColor": "#00aaff",
  "name": {
    "en": "Kia and Hyundai"
  },
  "description": {
    "en": "Connect your Hyundai or Kia smart car."
  },
  "tags": {
    "en": [
      "smart car",
      "hyundai",
      "kia",
      "uvo",
      "bluelink",
      "ABRP",
      "better route planner"
    ]
  },
  "category": [
    "localization"
  ],
  "permissions": [
    "homey:manager:geolocation"
  ],
  "images": {
    "large": "/assets/images/app_large.jpg",
    "small": "/assets/images/app_small.jpg"
  },
  "author": {
    "name": "Robin Gruijter",
    "email": "gruijter@hotmail.com"
  },
  "contributors": {
    "developers": [
      {
        "name": "Robin de Gruijter",
        "email": "gruijter@hotmail.com"
      }
    ],
    "translators": [
      {
        "name": "üá¨üáß Robin"
      }
    ]
  },
  "copyright": "Robin de Gruijter (gruijter@hotmail.com)",
  "license": " GPL-3.0-or-later",
  "contributing": {
    "donate": {
      "paypal": {
        "username": "gruijter"
      }
    }
  },
  "bugs": {
    "url": "https://github.com/gruijter/com.gruijter.facepp/issues"
  },
  "homeyCommunityTopicId": 32487,
  "source": "https://github.com/gruijter/com.gruijter.hyundai_kona",
  "homepage": "https://github.com/gruijter/com.gruijter.hyundai_kona/blob/master/README.md",
  "support": "https://community.athom.com/t/32487",
  "api": {
    "getLogs": {
      "method": "get",
      "path": "/getlogs/"
    },
    "deleteLogs": {
      "method": "get",
      "path": "/deletelogs/"
    }
  },
  "flow": {
    "triggers": [
      {
        "id": "engine_true",
        "title": {
          "en": "The engine turned on"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "engine_false",
        "title": {
          "en": "The engine turned off"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "charging_true",
        "title": {
          "en": "The charger turned on"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "charging_false",
        "title": {
          "en": "The charger turned off"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "climate_control_true",
        "title": {
          "en": "The A/C turned on"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "climate_control_false",
        "title": {
          "en": "The A/C turned off"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "defrost_true",
        "title": {
          "en": "Defrosting turned on"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "defrost_false",
        "title": {
          "en": "Defrosting turned off"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "alarm_battery_true",
        "title": {
          "en": "The battery alarm turned on"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "alarm_battery_false",
        "title": {
          "en": "The battery alarm turned off"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "tyre_pressure_alarm_true",
        "title": {
          "en": "The tyre pressure alarm turned on"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "tyre_pressure_alarm_false",
        "title": {
          "en": "The tyre pressure alarm turned off"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      }
    ],
    "conditions": [
      {
        "id": "engine",
        "title": {
          "en": "The engine is !{{on|off}}"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "charging",
        "title": {
          "en": "The charger is !{{on|off}}"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "climate_control",
        "title": {
          "en": "The A/C is !{{on|off}}"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "defrost",
        "title": {
          "en": "Defrosting is !{{on|off}}"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "alarm_battery",
        "title": {
          "en": "The battery alarm is !{{on|off}}"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      },
      {
        "id": "alarm_generic",
        "title": {
          "en": "The tyre pressure alarm is !{{on|off}}"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      }
    ],
    "actions": [
      {
        "id": "force_poll",
        "title": {
          "en": "Force live data poll"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=uvo"
          }
        ]
      }
    ]
  },
  "drivers": [
    {
      "class": "sensor",
      "capabilities": [
        "target_temperature",
        "live_data",
        "locked",
        "defrost",
        "climate_control",
        "engine",
        "closed_locked",
        "location",
        "distance",
        "speed",
        "range",
        "charger",
        "charging",
        "odometer",
        "alarm_tyre_pressure",
        "alarm_battery",
        "measure_battery.EV",
        "measure_battery.12V"
      ],
      "capabilitiesOptions": {
        "measure_battery.EV": {
          "title": {
            "en": "EV Battery"
          }
        },
        "measure_battery.12V": {
          "title": {
            "en": "12V Battery"
          }
        }
      },
      "images": {
        "large": "/drivers/uvo/assets/images/uvo_large.jpg",
        "small": "/drivers/uvo/assets/images/uvo_small.jpg"
      },
      "energy": {
        "batteries": [
          "INTERNAL"
        ],
        "usageConstant": 0
      },
      "pair": [
        {
          "id": "login_credentials",
          "template": "login_credentials"
        },
        {
          "id": "pincode",
          "template": "pincode",
          "options": {
            "title": "Enter PIN code",
            "hint": "Press OK only once, and wait a few seconds!"
          }
        },
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "name": {
        "en": "UVO (Kia)"
      },
      "id": "uvo",
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Car information"
          },
          "children": [
            {
              "id": "nameOrg",
              "type": "text",
              "label": {
                "en": "Name"
              },
              "value": "",
              "hint": {
                "en": "Car name as per manufacturer."
              }
            },
            {
              "id": "idOrg",
              "type": "text",
              "label": {
                "en": "ID"
              },
              "value": "",
              "hint": {
                "en": "Car ID as per manufacturer."
              }
            },
            {
              "id": "vin",
              "type": "text",
              "label": {
                "en": "VIN"
              },
              "value": "",
              "hint": {
                "en": "Car VIN as per manufacturer."
              }
            },
            {
              "id": "regDate",
              "type": "text",
              "label": {
                "en": "Registration date"
              },
              "value": ""
            },
            {
              "id": "brandIndicator",
              "type": "text",
              "label": {
                "en": "Brand Indicator"
              },
              "value": ""
            },
            {
              "id": "generation",
              "type": "text",
              "label": {
                "en": "Generation"
              },
              "value": ""
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Connection settings"
          },
          "children": [
            {
              "id": "username",
              "type": "text",
              "label": {
                "en": "Username"
              },
              "value": ""
            },
            {
              "id": "password",
              "type": "password",
              "label": {
                "en": "Password"
              },
              "value": ""
            },
            {
              "id": "pin",
              "type": "password",
              "label": {
                "en": "PIN"
              },
              "value": ""
            },
            {
              "id": "region",
              "type": "dropdown",
              "value": "EU",
              "label": {
                "en": "Region"
              },
              "values": [
                {
                  "id": "EU",
                  "label": {
                    "en": "EU"
                  }
                },
                {
                  "id": "US",
                  "label": {
                    "en": "US"
                  }
                },
                {
                  "id": "CA",
                  "label": {
                    "en": "CA"
                  }
                }
              ]
            },
            {
              "id": "pollInterval",
              "type": "number",
              "label": {
                "en": "Live update interval (minutes)"
              },
              "hint": {
                "en": "A lower interval gives faster updates in Homey. Attention: Homey will only receive updates when the car engine is on! A low poll interval can block your regular app from communicating with the car!"
              },
              "min": 0.2,
              "value": 1
            },
            {
              "id": "pollIntervalForced",
              "type": "number",
              "label": {
                "en": "Forced update interval (minutes)"
              },
              "hint": {
                "en": "When the car engine is off, you can force updates by setting a time other then 0. CAUTION: This will drain your 12V battery fast!"
              },
              "min": 0,
              "value": 0,
              "step": 5
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "A Better Route Planner (ABRP)"
          },
          "children": [
            {
              "id": "abrp_user_token",
              "type": "password",
              "label": {
                "en": "ABRP user token"
              },
              "hint": {
                "en": "Get a token from the ABRP app. Settings > Detailed > Car model > Car settings > Link Torque > copy the token."
              },
              "value": ""
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Home location settings"
          },
          "children": [
            {
              "id": "lat",
              "type": "number",
              "label": {
                "en": "Home latitude"
              },
              "hint": {
                "en": "Home location is used to calculate the car's distance."
              },
              "value": 0
            },
            {
              "id": "lon",
              "type": "number",
              "label": {
                "en": "Home longitude"
              },
              "hint": {
                "en": "Home location is used to calculate the car's distance."
              },
              "value": 0
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Various settings"
          },
          "children": [
            {
              "id": "batteryAlarmLevel",
              "type": "number",
              "label": {
                "en": "12V battery alarm level (%)"
              },
              "hint": {
                "en": "Homey will raise an alarm when the 12V battery charge is on or below this level."
              },
              "min": 0,
              "max": 100,
              "value": 60
            },
            {
              "id": "EVbatteryAlarmLevel",
              "type": "number",
              "label": {
                "en": "EV battery alarm level (%)"
              },
              "hint": {
                "en": "Homey will raise an alarm when the EV battery charge is on or below this level."
              },
              "min": 0,
              "max": 100,
              "value": 5
            }
          ]
        }
      ]
    }
  ],
  "capabilities": {
    "alarm_battery": {
      "type": "boolean",
      "title": {
        "en": "Battery alarm",
        "nl": "Batterij alarm",
        "de": "Batterie-Alarm",
        "fr": "Alarme batterie",
        "it": "Allarme batteria",
        "sv": "Batterialarm",
        "no": "Batterialarm",
        "es": "Alarma de bater√≠a",
        "da": "Batterialarm"
      },
      "desc": {
        "en": "True when there is a battery warning",
        "nl": "Geeft een batterijwaarschuwing",
        "de": "True, wenn es eine Batterie-Warnung gibt",
        "fr": "Vrai quand il y a un avertissement de batterie",
        "it": "Vero quando c'√® un avvertimento sulla batteria",
        "sv": "Sant n√§r det finns en batterivarning",
        "no": "Sant n√•r det finnes en batteriadvarsel",
        "es": "Verdadero cuando hay una advertencia de la bater√≠a",
        "da": "Sandt, n√•r der er en batterialarm"
      },
      "insights": true,
      "insightsTitleTrue": {
        "en": "Battery alarm turned on",
        "nl": "Batterijalarm ging af",
        "de": "Batterie-Alarm ist angegangen",
        "fr": "Alarme batterie activ√©e",
        "it": "Allarme batteria attivato",
        "sv": "Batterialarm aktiverat",
        "no": "Batterialarm aktivert",
        "es": "Alarma de la bater√≠a activada",
        "da": "Batterialarm aktiveret"
      },
      "insightsTitleFalse": {
        "en": "Battery alarm turned off",
        "nl": "Batterijalarm ging uit",
        "de": "Batterie-Alarm ist ausgegangen",
        "fr": "Alarme batterie d√©sactiv√©e",
        "it": "Allarme batteria disattivato",
        "sv": "Batterialarm avst√§ngt",
        "no": "Batterialarm deaktivert",
        "es": "Alarma de la bater√≠a desactivada",
        "da": "Batterialarm deaktiveret"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor"
    },
    "alarm_tyre_pressure": {
      "type": "boolean",
      "title": {
        "en": "Tyre pressure alarm"
      },
      "desc": {
        "en": "Tyre pressure alarm"
      },
      "insights": true,
      "insightsTitleTrue": {
        "en": "Tyre pressure alarm turned on"
      },
      "insightsTitleFalse": {
        "en": "Tyre pressure alarm turned off"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "icon": "./assets/alarm_tyre_pressure.svg"
    },
    "charger": {
      "type": "enum",
      "title": {
        "en": "Charger"
      },
      "getable": true,
      "setable": false,
      "insights": false,
      "uiComponent": "sensor",
      "icon": "./assets/charger.svg",
      "values": [
        {
          "id": "0",
          "title": {
            "en": "Not plugged in"
          }
        },
        {
          "id": "1",
          "title": {
            "en": "Fast"
          }
        },
        {
          "id": "2",
          "title": {
            "en": "Portable"
          }
        },
        {
          "id": "3",
          "title": {
            "en": "Normal"
          }
        }
      ]
    },
    "charging": {
      "type": "boolean",
      "title": {
        "en": "Charging"
      },
      "getable": true,
      "setable": false,
      "insights": true,
      "insightsTitleTrue": {
        "en": "Charging"
      },
      "insightsTitleFalse": {
        "en": "Not charging"
      },
      "uiComponent": "sensor",
      "icon": "./assets/charging.svg",
      "uiQuickAction": false
    },
    "climate_control": {
      "type": "boolean",
      "title": {
        "en": "Climate control"
      },
      "getable": true,
      "setable": true,
      "insights": true,
      "insightsTitleTrue": {
        "en": "Climate control on"
      },
      "insightsTitleFalse": {
        "en": "Climate control off"
      },
      "uiComponent": "toggle",
      "uiQuickAction": false
    },
    "closed_locked": {
      "type": "boolean",
      "title": {
        "en": "Closed and locked"
      },
      "icon": "/assets/closed_locked.svg",
      "getable": true,
      "setable": false,
      "insights": true,
      "insightsTitleTrue": {
        "en": "Doors closed and locked"
      },
      "insightsTitleFalse": {
        "en": "Doors opened or unlocked"
      },
      "options": {
        "greyout": {
          "type": "boolean",
          "default": false
        }
      },
      "uiComponent": "sensor",
      "uiQuickAction": false
    },
    "defrost": {
      "type": "boolean",
      "title": {
        "en": "Defrost"
      },
      "getable": true,
      "setable": true,
      "insights": true,
      "insightsTitleTrue": {
        "en": "Defrost on"
      },
      "insightsTitleFalse": {
        "en": "Defrost off"
      },
      "uiComponent": "toggle",
      "uiQuickAction": false
    },
    "distance": {
      "type": "number",
      "title": {
        "en": "Distance"
      },
      "units": {
        "en": "km",
        "nl": "km"
      },
      "getable": true,
      "setable": false,
      "insights": false,
      "icon": "./assets/distance.svg"
    },
    "engine": {
      "type": "boolean",
      "title": {
        "en": "Engine"
      },
      "icon": "/assets/engine.svg",
      "getable": true,
      "setable": false,
      "insights": true,
      "insightsTitleTrue": {
        "en": "Engine turned on"
      },
      "insightsTitleFalse": {
        "en": "Engine turned off"
      },
      "options": {
        "greyout": {
          "type": "boolean",
          "default": false
        }
      },
      "uiComponent": "sensor",
      "uiQuickAction": true
    },
    "live_data": {
      "type": "boolean",
      "title": {
        "en": "Live data"
      },
      "getable": true,
      "setable": true,
      "insights": false,
      "uiComponent": "toggle",
      "uiQuickAction": false
    },
    "location": {
      "type": "string",
      "title": {
        "en": "Location",
        "nl": "Locatie"
      },
      "desc": {
        "en": "Location of the car"
      },
      "getable": true,
      "setable": false,
      "insights": false,
      "icon": "./assets/location.svg"
    },
    "measure_battery": {
      "type": "number",
      "title": {
        "en": "Battery"
      },
      "units": {
        "en": "%"
      },
      "getable": true,
      "setable": false,
      "insights": true,
      "uiComponent": "battery"
    },
    "odometer": {
      "type": "number",
      "title": {
        "en": "Odometer"
      },
      "units": {
        "en": "km"
      },
      "getable": true,
      "setable": false,
      "insights": true,
      "uiComponent": "sensor",
      "icon": "./assets/odometer.svg"
    },
    "range": {
      "type": "number",
      "title": {
        "en": "Range"
      },
      "units": {
        "en": "km"
      },
      "getable": true,
      "setable": false,
      "insights": true,
      "uiComponent": "sensor",
      "icon": "./assets/range.svg"
    },
    "speed": {
      "type": "number",
      "title": {
        "en": "Speed"
      },
      "units": {
        "en": "km/h"
      },
      "getable": true,
      "setable": false,
      "insights": true,
      "uiComponent": "sensor",
      "icon": "./assets/speed.svg"
    }
  }
}